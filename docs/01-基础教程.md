# ç¬¬ä¸€é˜¶æ®µï¼šReact ä¸ NestJS åŸºç¡€

---

## ğŸ“˜ Part 1: React ç»„ä»¶åŸºç¡€

### 1.1 ä»€ä¹ˆæ˜¯ç»„ä»¶ï¼Ÿ

React åº”ç”¨ç”±**ç»„ä»¶**æ„æˆã€‚ç»„ä»¶æ˜¯ç‹¬ç«‹ã€å¯å¤ç”¨çš„ UI å•å…ƒã€‚

```tsx
// æœ€ç®€å•çš„å‡½æ•°ç»„ä»¶
function Welcome() {
  return <h1>Hello, React!</h1>;
}
```

> [!TIP]
> JSX çœ‹èµ·æ¥åƒ HTMLï¼Œä½†å®ƒæ˜¯ JavaScript çš„è¯­æ³•æ‰©å±•ã€‚`<h1>` ä¼šè¢«ç¼–è¯‘æˆ `React.createElement('h1', null, 'Hello, React!')`

---

### 1.2 Props - ç»„ä»¶çš„è¾“å…¥

Propsï¼ˆå±æ€§ï¼‰ç”¨äºå‘ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œç±»ä¼¼äºå‡½æ•°çš„å‚æ•°ï¼š

```tsx
// å®šä¹‰ Props ç±»å‹
interface ButtonProps {
  text: string;
  color?: string;  // å¯é€‰å±æ€§
}

// æ¥æ”¶ Props
function Button({ text, color = 'blue' }: ButtonProps) {
  return (
    <button style={{ backgroundColor: color }}>
      {text}
    </button>
  );
}

// ä½¿ç”¨ç»„ä»¶
<Button text="ç‚¹å‡»æˆ‘" />
<Button text="åˆ é™¤" color="red" />
```

---

### 1.3 State - ç»„ä»¶çš„çŠ¶æ€

State æ˜¯ç»„ä»¶å†…éƒ¨çš„å¯å˜æ•°æ®ï¼Œä½¿ç”¨ `useState` Hook ç®¡ç†ï¼š

```tsx
import { useState } from 'react';

function Counter() {
  // useState è¿”å› [å½“å‰å€¼, æ›´æ–°å‡½æ•°]
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>è®¡æ•°: {count}</p>
      <button onClick={() => setCount(count + 1)}>+1</button>
      <button onClick={() => setCount(count - 1)}>-1</button>
    </div>
  );
}
```

> [!IMPORTANT]
> **State æ›´æ–°æ˜¯å¼‚æ­¥çš„**ï¼šè°ƒç”¨ `setCount` åï¼Œ`count` ä¸ä¼šç«‹å³æ”¹å˜ï¼ŒReact ä¼šåœ¨ä¸‹æ¬¡æ¸²æŸ“æ—¶æ›´æ–°ã€‚

---

### 1.4 äº‹ä»¶å¤„ç†

React ä½¿ç”¨é©¼å³°å‘½åçš„äº‹ä»¶å±æ€§ï¼ˆonClick è€Œé onclickï¼‰ï¼š

```tsx
function Form() {
  const [text, setText] = useState('');

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();  // é˜»æ­¢é»˜è®¤è¡Œä¸º
    console.log('æäº¤:', text);
  };

  return (
    <form onSubmit={handleSubmit}>
      <input
        value={text}
        onChange={(e) => setText(e.target.value)}
        placeholder="è¾“å…¥å†…å®¹..."
      />
      <button type="submit">æäº¤</button>
    </form>
  );
}
```

---

## ğŸ“— Part 2: NestJS æ¨¡å—ç³»ç»Ÿ

### 2.1 æ ¸å¿ƒæ¦‚å¿µ

NestJS ä½¿ç”¨ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µç»„ç»‡ä»£ç ï¼š

| æ¦‚å¿µ | èŒè´£ | ç±»æ¯” |
|------|------|------|
| **Module** | ç»„ç»‡å’Œå°è£…ç›¸å…³åŠŸèƒ½ | æ–‡ä»¶å¤¹ |
| **Controller** | å¤„ç† HTTP è¯·æ±‚å’Œè·¯ç”± | å‰å°æ¥å¾… |
| **Service** | ä¸šåŠ¡é€»è¾‘å¤„ç† | åå°å·¥ä½œäººå‘˜ |

```
è¯·æ±‚ â†’ Controller â†’ Service â†’ è¿”å›å“åº”
```

---

### 2.2 Controller - å¤„ç†è¯·æ±‚

Controller ä½¿ç”¨è£…é¥°å™¨å®šä¹‰è·¯ç”±ï¼š

```typescript
// src/app.controller.ts
import { Controller, Get, Post, Body, Param } from '@nestjs/common';

@Controller('users')  // åŸºç¡€è·¯å¾„: /users
export class UsersController {

  @Get()  // GET /users
  findAll() {
    return [{ id: 1, name: 'Alice' }];
  }

  @Get(':id')  // GET /users/1
  findOne(@Param('id') id: string) {
    return { id, name: 'Alice' };
  }

  @Post()  // POST /users
  create(@Body() body: { name: string }) {
    return { id: 2, name: body.name };
  }
}
```

---

### 2.3 Service - ä¸šåŠ¡é€»è¾‘

Service æ˜¯å¯æ³¨å…¥çš„ç±»ï¼Œå°è£…ä¸šåŠ¡é€»è¾‘ï¼š

```typescript
// src/users.service.ts
import { Injectable } from '@nestjs/common';

@Injectable()  // æ ‡è®°ä¸ºå¯æ³¨å…¥
export class UsersService {
  private users = [{ id: 1, name: 'Alice' }];

  findAll() {
    return this.users;
  }

  create(name: string) {
    const user = { id: this.users.length + 1, name };
    this.users.push(user);
    return user;
  }
}
```

---

### 2.4 Module - ç»„ç»‡ä»£ç 

Module å°† Controller å’Œ Service ç»„åˆåœ¨ä¸€èµ·ï¼š

```typescript
// src/users.module.ts
import { Module } from '@nestjs/common';
import { UsersController } from './users.controller';
import { UsersService } from './users.service';

@Module({
  controllers: [UsersController],
  providers: [UsersService],
})
export class UsersModule {}
```

---

### 2.5 ä¾èµ–æ³¨å…¥

Controller é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥ Serviceï¼š

```typescript
@Controller('users')
export class UsersController {
  // NestJS è‡ªåŠ¨æ³¨å…¥ UsersService å®ä¾‹
  constructor(private readonly usersService: UsersService) {}

  @Get()
  findAll() {
    return this.usersService.findAll();
  }
}
```

> [!TIP]
> ä¾èµ–æ³¨å…¥è®©ä»£ç æ›´å®¹æ˜“æµ‹è¯•å’Œç»´æŠ¤ï¼Œä½ ä¸éœ€è¦æ‰‹åŠ¨åˆ›å»ºå®ä¾‹ã€‚

---

## ğŸ¯ ç»ƒä¹ ä»»åŠ¡

### React ç»ƒä¹ 
æŸ¥çœ‹å¹¶ä¿®æ”¹ `client/src/App.tsx`ï¼Œå®ç°ï¼š
1. æ·»åŠ ä¸€ä¸ªè®¡æ•°å™¨ç»„ä»¶
2. æ·»åŠ ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œæ˜¾ç¤ºè¾“å…¥å†…å®¹

### NestJS ç»ƒä¹ 
æŸ¥çœ‹å¹¶ä¿®æ”¹ `server/src/app.controller.ts`ï¼Œå®ç°ï¼š
1. æ·»åŠ ä¸€ä¸ª `GET /hello/:name` è·¯ç”±
2. è¿”å› `Hello, {name}!`
